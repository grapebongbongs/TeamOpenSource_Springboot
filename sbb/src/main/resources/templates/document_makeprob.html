<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout (~{::body})"
      th:with="content='this :: content'">

<body>
<div th:fragment="content">

    <h1 class="page-title">๋ฌธ์ ์์ฑ</h1>
    <p style="margin-top:-6px; margin-bottom:18px; font-size:14px; color:#6b7280;">
        ๋ฌธ์๋ฅผ ์์ฑํ PDF ํ์ผ์ ์๋ก๋ํ์ธ์.  
        Gemini ํ์ผ ๊ธฐ๋ฐ API๋ก ์๋ ๋ถ์ํ์ฌ ๋ฌธ์๋ฅผ ์์ฑํฉ๋๋ค.
    </p>

    <!-- ์๋ฌ ํ์ -->
    <div th:if="${error}" class="card" style="border-left:4px solid #e74c3c; background:#fff5f5;">
        <p style="margin:0; color:#e74c3c; font-size:14px;" th:text="${error}"></p>
    </div>

    <div class="card">
        <form method="post"
              th:action="@{/document/makeprob}"
              enctype="multipart/form-data">

            <!-- CSRF ํํฐ -->
            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}" />

            <div style="margin-bottom:14px;">
                <label for="pdfFile"
                       style="display:block; font-size:14px; font-weight:500; margin-bottom:6px;">
                    ๋ฌธ์ ์์ฑ์ฉ PDF ํ์ผ ์ํ
                </label>
                <input id="pdfFile"
                       type="file"
                       name="pdfFile"
                       accept="application/pdf"
                       required>
            </div>

            <button type="submit" class="btn" style="width:100%;">
                ๐ ๋ฌธ์ ์์ฑํ๊ธฐ
            </button>
        </form>
    </div>

    <div style="margin-top:10px;">
        <a href="/document/list" class="btn btn-outline">โ ๋ด PDF ๋ชฉ๋ก</a>
    </div>

</div>
</body>
</html>
